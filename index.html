
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Gil Bato vs Ralph Macchio</title>
<style>
  body { margin:0; background:#111; }
  canvas { display:block; margin:auto; background:#000; }
</style>
</head>
<body>
<canvas id="game" width="1100" height="620"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const bg = new Image();
bg.src = "bg.png";

const ground = 520;

const p1 = { x:200, y:ground-120, w:60, h:120, hp:100 };
const p2 = { x:840, y:ground-120, w:60, h:120, hp:100 };

const keys = {};
onkeydown = e => keys[e.key] = true;
onkeyup = e => keys[e.key] = false;

function drawHealth(x, y, hp, name) {
  ctx.fillStyle = "#333";
  ctx.fillRect(x, y, 300, 20);
  ctx.fillStyle = "#0f0";
  ctx.fillRect(x, y, 3 * hp, 20);
  ctx.fillStyle = "#fff";
  ctx.fillText(name, x, y - 5);
}

function update() {
  if (keys["a"]) p1.x -= 4;
  if (keys["d"]) p1.x += 4;
  if (keys["ArrowLeft"]) p2.x -= 4;
  if (keys["ArrowRight"]) p2.x += 4;
}

function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  if (bg.complete) {
    ctx.drawImage(bg, 0, 0, canvas.width, canvas.height);
  }

  ctx.fillStyle = "#964B00";
  ctx.fillRect(p1.x, p1.y, p1.w, p1.h);

  ctx.fillStyle = "#fff";
  ctx.fillRect(p2.x, p2.y, p2.w, p2.h);

  drawHealth(50, 40, p1.hp, "GIL BATO");
  drawHealth(750, 40, p2.hp, "RALPH MACCHIO");
}

function loop() {
  update();
  draw();
  requestAnimationFrame(loop);
}

bg.onload = loop;
</script>
</body>
</html>

